import{z as f,E as y,c as u,a as V,o,b as l,d as r,q as v,t as m,F as h,y as g,e as k}from"./vendor.7efa8563.js";import{_ as K,v as i,r as p,P as a,A as d}from"./index.5f5cb19e.js";const I={setup(){const s=f();return y(async()=>{try{await i.getVaultById(s.params.vaultId)}catch{p.push({name:"Home"})}await i.getVaultKeeps(s.params.vaultId)}),{vaultKeeps:u(()=>d.vaultKeeps.filter(t=>t.vaultId==s.params.vaultId)),vault:u(()=>d.currentVault),account:u(()=>d.account),async deleteVault(t){try{await a.confirm("Delete Collection?")&&(await i.deleteVault(t),a.toast("Collection Deleted"),p.push({name:"Profile",params:{profileId:d.currentProfile.id}}))}catch(n){a.toast(n.Message,"error")}},async deleteVaultKeep(t,n){try{await a.confirm("Remove Post from Collection?")&&(await i.deleteVaultKeep(t,n),a.toast("Post Removed"))}catch(e){a.toast(e.Message,"error")}}}}},P={key:0,class:"container pt-3"},x={key:0,class:"col-12 text-end f-18"},C={class:"masonry-columns text-center"},w=["onClick"];function D(s,t,n,e,b,B){const _=V("Keep");return e.account?(o(),l("div",P,[e.vault.creatorId==e.account.id?(o(),l("div",x,[r("i",{class:"mdi mdi-delete selectable",onClick:t[0]||(t[0]=c=>e.deleteVault(e.vault.id))})])):v("",!0),r("h1",null,m(e.vault.name),1),r("p",null,m(e.vault.description),1),r("h5",null,"Posts: "+m(e.vaultKeeps.length),1),r("div",C,[(o(!0),l(h,null,g(e.vaultKeeps,c=>(o(),l("div",{key:c.id},[e.vault.creatorId==e.account.id?(o(),l("i",{key:0,class:"mdi mdi-delete selectable f-16 text-light remove-keep",onClick:M=>e.deleteVaultKeep(c.id,e.vault.id)},null,8,w)):v("",!0),k(_,{keep:c.keep},null,8,["keep"])]))),128))])])):v("",!0)}var S=K(I,[["render",D],["__scopeId","data-v-22d37e29"]]);export{S as default};
